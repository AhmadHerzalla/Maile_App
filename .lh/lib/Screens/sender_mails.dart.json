{
    "sourceFile": "lib/Screens/sender_mails.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1695485295228,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1695485306406,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -104,9 +104,9 @@\n                       )),\r\n                       builder: (BuildContext context) {\r\n                         return EditMailBottomSheet(\r\n                           mail: mail,\r\n-                          \r\n+                          b\r\n                         );\r\n                       },\r\n                     ).whenComplete(\r\n                       () {\r\n"
                },
                {
                    "date": 1695485311883,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -104,9 +104,9 @@\n                       )),\r\n                       builder: (BuildContext context) {\r\n                         return EditMailBottomSheet(\r\n                           mail: mail,\r\n-                          b\r\n+                          backScreen: '',\r\n                         );\r\n                       },\r\n                     ).whenComplete(\r\n                       () {\r\n"
                },
                {
                    "date": 1695485332293,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -104,9 +104,9 @@\n                       )),\r\n                       builder: (BuildContext context) {\r\n                         return EditMailBottomSheet(\r\n                           mail: mail,\r\n-                          backScreen: '',\r\n+                          backScreen: '${sender!.name} mails',\r\n                         );\r\n                       },\r\n                     ).whenComplete(\r\n                       () {\r\n"
                }
            ],
            "date": 1695485295228,
            "name": "Commit-0",
            "content": "import 'package:final_projectt/core/util/constants/colors.dart';\r\nimport 'package:final_projectt/core/widgets/card.dart';\r\nimport 'package:final_projectt/core/widgets/edit_mail_bottom_sheet.dart';\r\nimport 'package:final_projectt/models/mail_model.dart';\r\nimport 'package:final_projectt/models/sender_model.dart';\r\nimport 'package:final_projectt/models/tags_model.dart';\r\nimport 'package:final_projectt/providers/new_inbox_provider.dart';\r\nimport 'package:flutter/material.dart';\r\nimport 'package:provider/provider.dart';\r\n\r\nclass SenderMails extends StatefulWidget {\r\n  SingleSender? sender;\r\n  SenderMails({required this.sender});\r\n\r\n  @override\r\n  State<SenderMails> createState() => _SenderMailsState();\r\n}\r\n\r\nclass _SenderMailsState extends State<SenderMails> {\r\n  SingleSender? sender;\r\n\r\n  @override\r\n  void initState() {\r\n    sender = widget.sender;\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      body: Column(\r\n        children: [\r\n          Padding(\r\n            padding: EdgeInsetsDirectional.only(top: 40, start: 15, end: 15),\r\n            child: Row(\r\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n              children: [\r\n                IconButton(\r\n                  onPressed: () {\r\n                    Navigator.pop(context);\r\n                  },\r\n                  icon: Icon(\r\n                    Icons.arrow_back_ios_new_rounded,\r\n                    color: primaryColor,\r\n                  ),\r\n                ),\r\n                Text(\r\n                  '${sender!.name} mails',\r\n                  style: TextStyle(\r\n                    color: Colors.black,\r\n                    fontSize: 20,\r\n                  ),\r\n                ),\r\n                IconButton(\r\n                  onPressed: () {},\r\n                  icon: Icon(\r\n                    Icons.arrow_back_ios_new_rounded,\r\n                    color: Colors.transparent,\r\n                  ),\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n          Expanded(\r\n            child: ListView.builder(\r\n              padding: EdgeInsets.zero,\r\n              physics: BouncingScrollPhysics(),\r\n              shrinkWrap: true,\r\n              itemCount: int.parse(sender!.mailsCount!),\r\n              itemBuilder: (context, index) {\r\n                Mail mail = Mail(\r\n                  activities: sender!.mails![index].activities,\r\n                  archiveDate: sender!.mails![index].archiveDate,\r\n                  archiveNumber: sender!.mails![index].archiveNumber,\r\n                  attachments: sender!.mails![index].attachments,\r\n                  createdAt: sender!.mails![index].createdAt,\r\n                  decision: sender!.mails![index].decision,\r\n                  description: sender!.mails![index].description,\r\n                  finalDecision: sender!.mails![index].finalDecision,\r\n                  id: sender!.mails![index].id,\r\n                  sender: sender!.mails![index].sender,\r\n                  senderId: sender!.mails![index].senderId,\r\n                  status: sender!.mails![index].status,\r\n                  statusId: sender!.mails![index].statusId,\r\n                  subject: sender!.mails![index].subject,\r\n                  tags: sender!.mails![index].tags!.map((tag) {\r\n                    return MailTag(\r\n                      id: tag.id,\r\n                      name: tag.name,\r\n                      createdAt: tag.createdAt,\r\n                      updatedAt: tag.updatedAt,\r\n                    );\r\n                  }).toList(),\r\n                  updatedAt: sender!.mails![index].updatedAt,\r\n                );\r\n                return ListTile(\r\n                  title: myCustomCard(mail, () {\r\n                    showModalBottomSheet(\r\n                      clipBehavior: Clip.hardEdge,\r\n                      isScrollControlled: true,\r\n                      context: context,\r\n                      shape: const RoundedRectangleBorder(\r\n                          borderRadius: BorderRadius.vertical(\r\n                        top: Radius.circular(15.0),\r\n                      )),\r\n                      builder: (BuildContext context) {\r\n                        return EditMailBottomSheet(\r\n                          mail: mail,\r\n                          \r\n                        );\r\n                      },\r\n                    ).whenComplete(\r\n                      () {\r\n                        setState(() {\r\n                          Provider.of<NewInboxProvider>(context, listen: false)\r\n                              .clearImages();\r\n\r\n                          Provider.of<NewInboxProvider>(context, listen: false)\r\n                              .activites = [];\r\n\r\n                          Provider.of<NewInboxProvider>(context, listen: false)\r\n                              .deletedImages = [];\r\n                        });\r\n                      },\r\n                    );\r\n                  }),\r\n                );\r\n              },\r\n            ),\r\n          )\r\n        ],\r\n      ),\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}