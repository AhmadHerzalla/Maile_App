{
    "sourceFile": "lib/Screens/status_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 34,
            "patches": [
                {
                    "date": 1695073950196,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1695073956599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,8 +5,9 @@\n \r\n import 'package:final_projectt/core/util/constants/colors.dart';\r\n import 'package:final_projectt/core/widgets/card.dart';\r\n import 'package:final_projectt/core/widgets/edit_mail_bottom_sheet.dart';\r\n+import 'package:final_projectt/core/widgets/my_expansion_tile.dart';\r\n import 'package:final_projectt/models/catego_model.dart';\r\n \r\n import 'package:final_projectt/models/status_single.dart';\r\n import 'package:final_projectt/providers/new_inbox_provider.dart';\r\n@@ -94,9 +95,9 @@\n                                     if (idOfCatego == e.id) {\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n-                                        child: MxpansionTile(\r\n+                                        child: MYExpansionTile(\r\n                                             onExpansionChanged: (value) {},\r\n                                             trailing:\r\n                                                 Icon(Icons.arrow_back_ios),\r\n                                             childrenPadding:\r\n"
                },
                {
                    "date": 1695073985575,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,10 +97,9 @@\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n                                             onExpansionChanged: (value) {},\r\n-                                            trailing:\r\n-                                                Icon(Icons.arrow_back_ios),\r\n+                                            \r\n                                             childrenPadding:\r\n                                                 const EdgeInsetsDirectional\r\n                                                     .only(top: 16, bottom: 16),\r\n                                             textColor: const Color(0xff272727),\r\n"
                },
                {
                    "date": 1695074038916,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,14 +92,15 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n+                                      se\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n-                                            onExpansionChanged: (value) {},\r\n                                             \r\n+                                            \r\n                                             childrenPadding:\r\n                                                 const EdgeInsetsDirectional\r\n                                                     .only(top: 16, bottom: 16),\r\n                                             textColor: const Color(0xff272727),\r\n"
                },
                {
                    "date": 1695074045138,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      se\r\n+                                      secondSnapshot.data\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074050761,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      secondSnapshot.data\r\n+                                      secondSnapshot.data.\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074056437,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,15 +92,13 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      secondSnapshot.data.\r\n+                                      secondSnapshot.data.length; \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n-                                            \r\n-                                            \r\n                                             childrenPadding:\r\n                                                 const EdgeInsetsDirectional\r\n                                                     .only(top: 16, bottom: 16),\r\n                                             textColor: const Color(0xff272727),\r\n@@ -120,9 +118,8 @@\n                                                     element\r\n                                                         .sender?.categoryId ==\r\n                                                     e.id.toString())\r\n                                                 .map((mail) {\r\n-\r\n                                               return myCustomCard(mail, () {\r\n                                                 showModalBottomSheet(\r\n                                                   clipBehavior: Clip.hardEdge,\r\n                                                   isScrollControlled: true,\r\n"
                },
                {
                    "date": 1695074065003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      secondSnapshot.data.length; \r\n+                                      int num = secondSnapshot.data.length; \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074070450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      int num = secondSnapshot.data.length; \r\n+                                      int numOfMails = secondSnapshot.data.length; \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074077887,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,8 +97,9 @@\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n+                                          numOfMails\r\n                                             childrenPadding:\r\n                                                 const EdgeInsetsDirectional\r\n                                                     .only(top: 16, bottom: 16),\r\n                                             textColor: const Color(0xff272727),\r\n"
                },
                {
                    "date": 1695074120015,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n       appBar: AppBar(\r\n         elevation: 0,\r\n         backgroundColor: const Color(0xffF7F6FF),\r\n         title: Text(\r\n-          \"${widget.nameOfStatus}\".tr(),\r\n+          widget.nameOfStatus.tr(),\r\n           style: const TextStyle(fontSize: 20, color: Colors.black),\r\n         ),\r\n         centerTitle: true,\r\n         leading: IconButton(\r\n@@ -92,14 +92,14 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      int numOfMails = secondSnapshot.data.length; \r\n+                                       \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n-                                          numOfMails\r\n+                                            numOfMails: numOfMails,\r\n                                             childrenPadding:\r\n                                                 const EdgeInsetsDirectional\r\n                                                     .only(top: 16, bottom: 16),\r\n                                             textColor: const Color(0xff272727),\r\n"
                },
                {
                    "date": 1695074127532,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                       \r\n+                                       statusSingledata\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074136166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                       statusSingledata\r\n+                                       int numOfMails = statusSingledata.\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074142464,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                       int numOfMails = statusSingledata.\r\n+                                       int numOfMails = statusSingledata.status.l\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074150726,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                       int numOfMails = statusSingledata.status.l\r\n+                                       int numOfMails = statusSingledata.status.mailsCount\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074158544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,10 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                       int numOfMails = statusSingledata.status.mailsCount\r\n+                                      int numOfMails =\r\n+                                          statusSingledata!.status.mailsCount;\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074164185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,9 @@\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n                                       int numOfMails =\r\n-                                          statusSingledata!.status.mailsCount;\r\n+                                          statusSingledata!.status!.mailsCount!;\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074172827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,9 @@\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n                                       int numOfMails =\r\n-                                          statusSingledata!.status!.mailsCount!;\r\n+                                          int.;\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074196845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,10 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      int numOfMails =\r\n-                                          int.;\r\n+                                    \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074245997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n-                                            numOfMails: numOfMails,\r\n+                                            numOfMails: 0,\r\n                                             childrenPadding:\r\n                                                 const EdgeInsetsDirectional\r\n                                                     .only(top: 16, bottom: 16),\r\n                                             textColor: const Color(0xff272727),\r\n"
                },
                {
                    "date": 1695074280220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,8 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                    \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n@@ -105,9 +104,9 @@\n                                             textColor: const Color(0xff272727),\r\n                                             tilePadding:\r\n                                                 const EdgeInsets.symmetric(\r\n                                                     horizontal: 16),\r\n-                                            initiallyExpanded: true,\r\n+                                            initiallyExpanded: fa,\r\n                                             title: Text(\r\n                                               nameOfCatego.tr(),\r\n                                               style: const TextStyle(\r\n                                                   fontSize: 18,\r\n"
                },
                {
                    "date": 1695074321301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -104,9 +104,9 @@\n                                             textColor: const Color(0xff272727),\r\n                                             tilePadding:\r\n                                                 const EdgeInsets.symmetric(\r\n                                                     horizontal: 16),\r\n-                                            initiallyExpanded: fa,\r\n+                                            initiallyExpanded: tr,\r\n                                             title: Text(\r\n                                               nameOfCatego.tr(),\r\n                                               style: const TextStyle(\r\n                                                   fontSize: 18,\r\n"
                },
                {
                    "date": 1695074360605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n-                                            numOfMails: 0,\r\n+                                          \r\n                                             childrenPadding:\r\n                                                 const EdgeInsetsDirectional\r\n                                                     .only(top: 16, bottom: 16),\r\n                                             textColor: const Color(0xff272727),\r\n"
                },
                {
                    "date": 1695074596562,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,21 +92,21 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n+                                      \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n-                                          \r\n                                             childrenPadding:\r\n                                                 const EdgeInsetsDirectional\r\n                                                     .only(top: 16, bottom: 16),\r\n                                             textColor: const Color(0xff272727),\r\n                                             tilePadding:\r\n                                                 const EdgeInsets.symmetric(\r\n                                                     horizontal: 16),\r\n-                                            initiallyExpanded: tr,\r\n+                                            initiallyExpanded: true,\r\n                                             title: Text(\r\n                                               nameOfCatego.tr(),\r\n                                               style: const TextStyle(\r\n                                                   fontSize: 18,\r\n"
                },
                {
                    "date": 1695074602948,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      \r\n+                                      int numOfMails = \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074608840,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      int numOfMails = \r\n+                                      int numOfMails = statusSingledata.\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074614857,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      int numOfMails = statusSingledata.\r\n+                                      int numOfMails = statusSingledata.status.mails.\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074623592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,10 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      int numOfMails = statusSingledata.status.mails.\r\n+                                      int numOfMails =\r\n+                                          statusSingledata.status!mails.length; \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074630166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,9 @@\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n                                       int numOfMails =\r\n-                                          statusSingledata.status!mails.length; \r\n+                                          statusSingledata!.status!.mails!.length; \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074639000,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,8 +98,9 @@\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n+                                          numOfMails: numOfMails,\r\n                                             childrenPadding:\r\n                                                 const EdgeInsetsDirectional\r\n                                                     .only(top: 16, bottom: 16),\r\n                                             textColor: const Color(0xff272727),\r\n"
                },
                {
                    "date": 1695074659384,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,15 +92,14 @@\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n                                     if (idOfCatego == e.id) {\r\n-                                      int numOfMails =\r\n-                                          statusSingledata!.status!.mails!.length; \r\n+                                    \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n-                                          numOfMails: numOfMails,\r\n+                                            numOfMails: numOfMails,\r\n                                             childrenPadding:\r\n                                                 const EdgeInsetsDirectional\r\n                                                     .only(top: 16, bottom: 16),\r\n                                             textColor: const Color(0xff272727),\r\n"
                },
                {
                    "date": 1695074767658,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,10 +91,10 @@\n                                 return Column(\r\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n+                                   \r\n                                     if (idOfCatego == e.id) {\r\n-                                    \r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n                                         child: MYExpansionTile(\r\n"
                },
                {
                    "date": 1695074783978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,8 +80,10 @@\n                       children: categoData!.map((e) {\r\n                         return FutureBuilder(\r\n                             future: statusSingle,\r\n                             builder: (context, AsyncSnapshot secondSnapshot) {\r\n+                               int numOfMails =\r\n+                                        statusSingledata!.status!.mails!.length;\r\n                               if (secondSnapshot.connectionState ==\r\n                                   ConnectionState.waiting) {\r\n                                 return const CircularProgressIndicator();\r\n                               } else if (secondSnapshot.hasError) {\r\n"
                },
                {
                    "date": 1695074809235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,10 +80,9 @@\n                       children: categoData!.map((e) {\r\n                         return FutureBuilder(\r\n                             future: statusSingle,\r\n                             builder: (context, AsyncSnapshot secondSnapshot) {\r\n-                              int numOfMails =\r\n-                                  statusSingledata!.status!.mails!.length;\r\n+                              \r\n                               if (secondSnapshot.connectionState ==\r\n                                   ConnectionState.waiting) {\r\n                                 return const CircularProgressIndicator();\r\n                               } else if (secondSnapshot.hasError) {\r\n@@ -93,9 +92,9 @@\n                                 return Column(\r\n                                   children: categoData!.map((catego) {\r\n                                     String nameOfCatego = catego.name!;\r\n                                     int idOfCatego = catego.id!;\r\n-\r\n+                                   \r\n                                     if (idOfCatego == e.id) {\r\n                                       return Theme(\r\n                                         data: Theme.of(context).copyWith(\r\n                                             dividerColor: Colors.transparent),\r\n"
                },
                {
                    "date": 1695074963774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,192 @@\n+import 'package:easy_localization/easy_localization.dart';\r\n+import 'package:final_projectt/Screens/main_screen.dart';\r\n+import 'package:final_projectt/core/services/catego_controller.dart';\r\n+import 'package:final_projectt/core/services/status_controller.dart';\r\n+\r\n+import 'package:final_projectt/core/util/constants/colors.dart';\r\n+import 'package:final_projectt/core/widgets/card.dart';\r\n+import 'package:final_projectt/core/widgets/edit_mail_bottom_sheet.dart';\r\n+import 'package:final_projectt/core/widgets/my_expansion_tile.dart';\r\n+import 'package:final_projectt/models/catego_model.dart';\r\n+\r\n+import 'package:final_projectt/models/status_single.dart';\r\n+import 'package:final_projectt/providers/new_inbox_provider.dart';\r\n+import 'package:flutter/material.dart';\r\n+import 'package:provider/provider.dart';\r\n+\r\n+class StatusScreen extends StatefulWidget {\r\n+  final String nameOfStatus;\r\n+  final int idOfStatus;\r\n+  const StatusScreen(\r\n+      {super.key, required this.nameOfStatus, required this.idOfStatus});\r\n+\r\n+  @override\r\n+  State<StatusScreen> createState() => _StatusScreenState();\r\n+}\r\n+\r\n+class _StatusScreenState extends State<StatusScreen> {\r\n+  late Future<StatusSingle> statusSingle;\r\n+  StatusSingle? statusSingledata;\r\n+  StatusSingle? singleMails;\r\n+\r\n+  late Future<List<CategoryElement>> categories;\r\n+  List<CategoryElement>? categoData;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    categories = getCatego();\r\n+\r\n+    statusSingle = StatusController().fetchSingleStatuse(widget.idOfStatus);\r\n+    super.initState();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    dynamic deviceHeight = MediaQuery.of(context).size.height;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: const Color(0xffF7F6FF),\r\n+      appBar: AppBar(\r\n+        elevation: 0,\r\n+        backgroundColor: const Color(0xffF7F6FF),\r\n+        title: Text(\r\n+          widget.nameOfStatus.tr(),\r\n+          style: const TextStyle(fontSize: 20, color: Colors.black),\r\n+        ),\r\n+        centerTitle: true,\r\n+        leading: IconButton(\r\n+          onPressed: () {\r\n+            Navigator.pushReplacement(context,\r\n+                MaterialPageRoute(builder: (context) {\r\n+              return const MainPage();\r\n+            }));\r\n+          },\r\n+          icon: const Icon(\r\n+            Icons.arrow_back_ios,\r\n+            color: Color(0xff6589FF),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+      body: SingleChildScrollView(\r\n+        physics: const BouncingScrollPhysics(),\r\n+        child: Column(\r\n+          children: [\r\n+            FutureBuilder(\r\n+                future: categories,\r\n+                builder: (context, AsyncSnapshot firstSnapshot) {\r\n+                  if (firstSnapshot.hasData) {\r\n+                    categoData = firstSnapshot.data;\r\n+                    return Column(\r\n+                      children: categoData!.map((e) {\r\n+                        return FutureBuilder(\r\n+                            future: statusSingle,\r\n+                            builder: (context, AsyncSnapshot secondSnapshot) {\r\n+                              if (secondSnapshot.connectionState ==\r\n+                                  ConnectionState.waiting) {\r\n+                                return const CircularProgressIndicator();\r\n+                              } else if (secondSnapshot.hasError) {\r\n+                                return Text('Error: ${secondSnapshot.error}');\r\n+                              } else {\r\n+                                statusSingledata = secondSnapshot.data;\r\n+                                \r\n+                                return Column(\r\n+                                  children: categoData!.map((catego) {\r\n+                                    String nameOfCatego = catego.name!;\r\n+                                    int idOfCatego = catego.id!;\r\n+\r\n+                                    if (idOfCatego == e.id) {\r\n+                                      return Theme(\r\n+                                        data: Theme.of(context).copyWith(\r\n+                                            dividerColor: Colors.transparent),\r\n+                                        child: MYExpansionTile(\r\n+                                            numOfMails: numOfMails,\r\n+                                            childrenPadding:\r\n+                                                const EdgeInsetsDirectional\r\n+                                                    .only(top: 16, bottom: 16),\r\n+                                            textColor: const Color(0xff272727),\r\n+                                            tilePadding:\r\n+                                                const EdgeInsets.symmetric(\r\n+                                                    horizontal: 16),\r\n+                                            initiallyExpanded: true,\r\n+                                            title: Text(\r\n+                                              nameOfCatego.tr(),\r\n+                                              style: const TextStyle(\r\n+                                                  fontSize: 18,\r\n+                                                  fontWeight: FontWeight.bold),\r\n+                                            ),\r\n+                                            children: statusSingledata!\r\n+                                                .status!.mails!\r\n+                                                .where((element) =>\r\n+                                                    element\r\n+                                                        .sender?.categoryId ==\r\n+                                                    e.id.toString())\r\n+                                                .map((mail) {\r\n+                                                    numOfMails =\r\n+                                    statusSingledata!.status!.mails!.length;\r\n+                                              return myCustomCard(mail, () {\r\n+                                                showModalBottomSheet(\r\n+                                                  clipBehavior: Clip.hardEdge,\r\n+                                                  isScrollControlled: true,\r\n+                                                  context: context,\r\n+                                                  shape:\r\n+                                                      const RoundedRectangleBorder(\r\n+                                                          borderRadius:\r\n+                                                              BorderRadius\r\n+                                                                  .vertical(\r\n+                                                    top: Radius.circular(15.0),\r\n+                                                  )),\r\n+                                                  builder:\r\n+                                                      (BuildContext context) {\r\n+                                                    return EditMailBottomSheet(\r\n+                                                      mail: mail,\r\n+                                                    );\r\n+                                                  },\r\n+                                                ).whenComplete(\r\n+                                                  () {\r\n+                                                    setState(() {\r\n+                                                      Provider.of<NewInboxProvider>(\r\n+                                                              context,\r\n+                                                              listen: false)\r\n+                                                          .clearImages();\r\n+\r\n+                                                      Provider.of<NewInboxProvider>(\r\n+                                                              context,\r\n+                                                              listen: false)\r\n+                                                          .activites = [];\r\n+\r\n+                                                      Provider.of<NewInboxProvider>(\r\n+                                                              context,\r\n+                                                              listen: false)\r\n+                                                          .deletedImages = [];\r\n+                                                    });\r\n+                                                  },\r\n+                                                );\r\n+                                              });\r\n+                                            }).toList()),\r\n+                                      );\r\n+                                    }\r\n+                                    return SizedBox(\r\n+                                      height: deviceHeight * 0.0000000000001,\r\n+                                    );\r\n+                                  }).toList(),\r\n+                                );\r\n+                              }\r\n+                            });\r\n+                      }).toList(),\r\n+                    );\r\n+                  }\r\n+                  if (firstSnapshot.hasError) {\r\n+                    return Text(firstSnapshot.error.toString());\r\n+                  }\r\n+                  return Center(\r\n+                    child: CircularProgressIndicator(\r\n+                      color: primaryColor,\r\n+                    ),\r\n+                  );\r\n+                }),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n"
                }
            ],
            "date": 1695073950196,
            "name": "Commit-0",
            "content": "import 'package:easy_localization/easy_localization.dart';\r\nimport 'package:final_projectt/Screens/main_screen.dart';\r\nimport 'package:final_projectt/core/services/catego_controller.dart';\r\nimport 'package:final_projectt/core/services/status_controller.dart';\r\n\r\nimport 'package:final_projectt/core/util/constants/colors.dart';\r\nimport 'package:final_projectt/core/widgets/card.dart';\r\nimport 'package:final_projectt/core/widgets/edit_mail_bottom_sheet.dart';\r\nimport 'package:final_projectt/models/catego_model.dart';\r\n\r\nimport 'package:final_projectt/models/status_single.dart';\r\nimport 'package:final_projectt/providers/new_inbox_provider.dart';\r\nimport 'package:flutter/material.dart';\r\nimport 'package:provider/provider.dart';\r\n\r\nclass StatusScreen extends StatefulWidget {\r\n  final String nameOfStatus;\r\n  final int idOfStatus;\r\n  const StatusScreen(\r\n      {super.key, required this.nameOfStatus, required this.idOfStatus});\r\n\r\n  @override\r\n  State<StatusScreen> createState() => _StatusScreenState();\r\n}\r\n\r\nclass _StatusScreenState extends State<StatusScreen> {\r\n  late Future<StatusSingle> statusSingle;\r\n  StatusSingle? statusSingledata;\r\n  StatusSingle? singleMails;\r\n\r\n  late Future<List<CategoryElement>> categories;\r\n  List<CategoryElement>? categoData;\r\n\r\n  @override\r\n  void initState() {\r\n    categories = getCatego();\r\n\r\n    statusSingle = StatusController().fetchSingleStatuse(widget.idOfStatus);\r\n    super.initState();\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    dynamic deviceHeight = MediaQuery.of(context).size.height;\r\n\r\n    return Scaffold(\r\n      backgroundColor: const Color(0xffF7F6FF),\r\n      appBar: AppBar(\r\n        elevation: 0,\r\n        backgroundColor: const Color(0xffF7F6FF),\r\n        title: Text(\r\n          \"${widget.nameOfStatus}\".tr(),\r\n          style: const TextStyle(fontSize: 20, color: Colors.black),\r\n        ),\r\n        centerTitle: true,\r\n        leading: IconButton(\r\n          onPressed: () {\r\n            Navigator.pushReplacement(context,\r\n                MaterialPageRoute(builder: (context) {\r\n              return const MainPage();\r\n            }));\r\n          },\r\n          icon: const Icon(\r\n            Icons.arrow_back_ios,\r\n            color: Color(0xff6589FF),\r\n          ),\r\n        ),\r\n      ),\r\n      body: SingleChildScrollView(\r\n        physics: const BouncingScrollPhysics(),\r\n        child: Column(\r\n          children: [\r\n            FutureBuilder(\r\n                future: categories,\r\n                builder: (context, AsyncSnapshot firstSnapshot) {\r\n                  if (firstSnapshot.hasData) {\r\n                    categoData = firstSnapshot.data;\r\n                    return Column(\r\n                      children: categoData!.map((e) {\r\n                        return FutureBuilder(\r\n                            future: statusSingle,\r\n                            builder: (context, AsyncSnapshot secondSnapshot) {\r\n                              if (secondSnapshot.connectionState ==\r\n                                  ConnectionState.waiting) {\r\n                                return const CircularProgressIndicator();\r\n                              } else if (secondSnapshot.hasError) {\r\n                                return Text('Error: ${secondSnapshot.error}');\r\n                              } else {\r\n                                statusSingledata = secondSnapshot.data;\r\n                                return Column(\r\n                                  children: categoData!.map((catego) {\r\n                                    String nameOfCatego = catego.name!;\r\n                                    int idOfCatego = catego.id!;\r\n                                    if (idOfCatego == e.id) {\r\n                                      return Theme(\r\n                                        data: Theme.of(context).copyWith(\r\n                                            dividerColor: Colors.transparent),\r\n                                        child: MxpansionTile(\r\n                                            onExpansionChanged: (value) {},\r\n                                            trailing:\r\n                                                Icon(Icons.arrow_back_ios),\r\n                                            childrenPadding:\r\n                                                const EdgeInsetsDirectional\r\n                                                    .only(top: 16, bottom: 16),\r\n                                            textColor: const Color(0xff272727),\r\n                                            tilePadding:\r\n                                                const EdgeInsets.symmetric(\r\n                                                    horizontal: 16),\r\n                                            initiallyExpanded: true,\r\n                                            title: Text(\r\n                                              nameOfCatego.tr(),\r\n                                              style: const TextStyle(\r\n                                                  fontSize: 18,\r\n                                                  fontWeight: FontWeight.bold),\r\n                                            ),\r\n                                            children: statusSingledata!\r\n                                                .status!.mails!\r\n                                                .where((element) =>\r\n                                                    element\r\n                                                        .sender?.categoryId ==\r\n                                                    e.id.toString())\r\n                                                .map((mail) {\r\n\r\n                                              return myCustomCard(mail, () {\r\n                                                showModalBottomSheet(\r\n                                                  clipBehavior: Clip.hardEdge,\r\n                                                  isScrollControlled: true,\r\n                                                  context: context,\r\n                                                  shape:\r\n                                                      const RoundedRectangleBorder(\r\n                                                          borderRadius:\r\n                                                              BorderRadius\r\n                                                                  .vertical(\r\n                                                    top: Radius.circular(15.0),\r\n                                                  )),\r\n                                                  builder:\r\n                                                      (BuildContext context) {\r\n                                                    return EditMailBottomSheet(\r\n                                                      mail: mail,\r\n                                                    );\r\n                                                  },\r\n                                                ).whenComplete(\r\n                                                  () {\r\n                                                    setState(() {\r\n                                                      Provider.of<NewInboxProvider>(\r\n                                                              context,\r\n                                                              listen: false)\r\n                                                          .clearImages();\r\n\r\n                                                      Provider.of<NewInboxProvider>(\r\n                                                              context,\r\n                                                              listen: false)\r\n                                                          .activites = [];\r\n\r\n                                                      Provider.of<NewInboxProvider>(\r\n                                                              context,\r\n                                                              listen: false)\r\n                                                          .deletedImages = [];\r\n                                                    });\r\n                                                  },\r\n                                                );\r\n                                              });\r\n                                            }).toList()),\r\n                                      );\r\n                                    }\r\n                                    return SizedBox(\r\n                                      height: deviceHeight * 0.0000000000001,\r\n                                    );\r\n                                  }).toList(),\r\n                                );\r\n                              }\r\n                            });\r\n                      }).toList(),\r\n                    );\r\n                  }\r\n                  if (firstSnapshot.hasError) {\r\n                    return Text(firstSnapshot.error.toString());\r\n                  }\r\n                  return Center(\r\n                    child: CircularProgressIndicator(\r\n                      color: primaryColor,\r\n                    ),\r\n                  );\r\n                }),\r\n          ],\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}